<!--
		Copyright 2013 Joshua Marsh. All rights reserved.
		Use of this source code is governed by a BSD-style
		license that can be found in the LICENSE file.
	-->
<div class="row">
	<div class="span6 offset3">
		<h1>Lists</h1>
		<table class="table table-striped table-hover">
			<thead>
				<tr>
					<th>
						<div class="pull-left">Name</div>
						<div class="pull-right">
							<button class="btn btn-success pull-right" 
											data-ng-click="new()">
								<i class="icon-plus icon-white"></i>
								New
							</button>
						</div>
					</th>
				</tr>
			</thead>
			<tbody>
				<!-- Loop through each of the lists. -->
				<tr data-ng-repeat="list in lists">
					<td data-ng-click="view(list.Key)" class="pointer-cursor">
						<div class="pull-left"><a href="#/view/{{list.Key}}">{{list.Name}}</a></div>
						<div class="pull-right">
							<button class="btn btn-warning" 
											data-ng-click="copymodal(list.Key, list.Name, $event)">
								<i class="icon-file icon-white"></i>
								Copy
							</button>
							<button class="btn btn-danger" data-ng-click="delete(list.Key, $event)">
								<i class="icon-remove icon-white"></i>
								Delete
							</button>
						</div>
					</td>
				</tr>
				<tr data-ng-show="lists.length == 0">
					<td colspan="3">There are no lists.</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>

<!-- This is the modal that pops up when the copy button is
pressed. -->
<div id="copyModal" class="modal hide">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" 
						aria-hidden="true">&times;</button>
    <h3>Copy List</h3>
  </div>
  <div class="modal-body">
		<form name="copylist">
			<div class="control-group"
					 ata-ng-class="{error: copylist.copyName.$invalid}">
				<label>Name</label>
				<input type="text" name="copyName" data-ng-model="copyName" required>
				<span data-ng-show="copylist.copyName.$error.required" 
							class="help-inline">
					Required
				</span>
			</div>
		</form>
  </div>
  <div class="modal-footer">
		<button data-ng-click="back()" class="btn">
			<i class="icon-remove-sign"></i>
			Cancel
		</button>
		<button data-ng-click="copy()" data-ng-disabled="copylist.$invalid"
						class="btn btn-primary">
			<i class="icon-file icon-white"></i>
			Copy
		</button>
  </div>
</div>

<div id="newModal" class="modal hide">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>New List</h3>
  </div>
  <div class="modal-body">
		<form name="newlist">
			<div class="control-group"
					 ata-ng-class="{error: newlist.name.$invalid}">
				<label>Name</label>
				<input type="text" name="name" data-ng-model="name" required>
				<span data-ng-show="newlist.name.$error.required" class="help-inline">
					Required
				</span>
			</div>
		</form>
  </div>
  <div class="modal-footer">
		<button data-ng-click="back()" class="btn">
			<i class="icon-remove-sign"></i>
			Cancel
		</button>
		<button data-ng-click="save()" data-ng-disabled="newlist.$invalid"
						class="btn btn-primary">
			<i class="icon-hdd icon-white"></i>
			Create
		</button>
  </div>
</div>

<!-- This is the modal that pops up when the delete button is
pressed. -->
<div id="deleteModal" class="modal hide">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Are You Sure?</h3>
  </div>
  <div class="modal-body">
    <p>Are you sure you want to delete this list?</p>
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">
			<i class="icon-remove-sign"></i>
			Cancel
		</button>
    <button class="btn btn-danger" data-ng-click="sure()">
			<i class="icon-remove icon-white"></i>
			Delete
		</button>
  </div>
</div>
